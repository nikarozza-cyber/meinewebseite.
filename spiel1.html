<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>deine Lebensreise - 52 Fragen (DE/RU/KA)</title>
<style>
  body { 
    margin:0; padding:0; font-family: Arial, sans-serif;
    background: url('https://images.unsplash.com/photo-1508780709619-79562169bc64?auto=format&fit=crop&w=1470&q=80') no-repeat center center;
    background-size: cover; 
    color:#fff; 
    text-align:center; 
  }
  .overlay { 
    background: rgba(0,0,0,0.55); 
    position:absolute; 
    top:0; left:0; right:0; bottom:0; 
    z-index:1;
  }
  .container { 
    position: relative; 
    z-index:2; 
    max-width:900px; 
    margin:40px auto; 
    padding:30px; 
  }
  h1 { margin-bottom:12px; font-size:32px; }
  h2,h3 { margin:8px 0; }
  button { padding:10px 18px; margin:8px; font-size:16px; cursor:pointer; border:none; border-radius:6px; background:rgba(255,255,255,0.12); color:#fff; }
  .btn-answer { display:block; width:84%; margin:10px auto; padding:12px; text-align:left; border-radius:8px; background:rgba(255,255,255,0.06); }
  .hide { display:none; }
  input { padding:10px; font-size:16px; width:72%; max-width:380px; text-align:center; border-radius:6px; border:1px solid rgba(255,255,255,0.12); background:rgba(255,255,255,0.02); color:#fff; }
  #answers { margin-top:18px; }
  .small { font-size:14px; color: #ddd; }
  .lang-btn { min-width:140px; }
</style>
</head>
<body>
<div class="overlay"></div>
<div class="container">

  <h1> Lebensreise</h1>

  <div id="language-selection">
    <h2>Wähle die Sprache / Выберите язык / აირჩიეთ ენა</h2>
    <button class="lang-btn" onclick="setLanguage('de')">Deutsch 🇩🇪</button>
    <button class="lang-btn" onclick="setLanguage('ru')">Русский 🇷🇺</button>
    <button class="lang-btn" onclick="setLanguage('ka')">ქართული 🇬🇪</button>
  </div>

  <div id="name-entry" class="hide">
    <h2 id="ask-name"></h2>
    <input id="username" placeholder="">
    <br><br>
    <button id="start-btn" onclick="startGame()"></button>
    <div class="small" style="margin-top:8px;">
      <span id="help-text"></span>
    </div>
  </div>

  <div id="question-card" class="hide">
    <h3 id="progress"></h3>
    <h2 id="question-text"></h2>
    <div id="answers"></div>
  </div>

  <div id="result-card" class="hide">
    <h2 id="result-text"></h2>
    <p id="points-display" class="small"></p>
    <button id="again-btn" onclick="restartGame()"></button>
  </div>

</div>

<script>
/* ====== Variables ====== */
let lang = 'de';
let username = '';
let currentQ = 0;
let points = 0;

/* UI strings */
const UI = {
  askName: { de: "Wie heißt du?", ru: "Как тебя зовут?", ka: "რა გქვია?" },
  placeholder: { de: "Dein Name", ru: "Твоё имя", ka: "შენი სახელი" },
  start: { de: "Starten", ru: "Старт", ka: "დაწყება" },
  again: { de: "Nochmal spielen", ru: "Сыграть ещё раз", ka: "გაიმეორე თამაში" },
  help: { de: "Gib hier deinen Namen ein (optional).", ru: "Введите имя (необязательно).", ka: "შენი სახელი (არასავალდებულო)." }
};

/* Ergebnisse */
const RESULTS = {
  1: {
    de: "🏆 {name}, du hast viele Freunde und ein sehr gutes, glückliches Leben!",
    ru: "🏆 {name}, у тебя много друзей и очень хорошая, счастливая жизнь!",
    ka: "🏆 {name}, შენ ბევრი მეგობარი გყავს და ბედნიერი ცხოვრება გაქვს!"
  },
  2: {
    de: "😄 {name}, du führst ein gutes Leben und bleibst positiv.",
    ru: "😄 {name}, у тебя хорошая жизнь, и ты остаёшься позитивным.",
    ka: "😄 {name}, შენ კარგი ცხოვრებით ცხოვრობ და პოზიტიური ხარ."
  },
  3: {
    de: "🙂 {name}, du hast wenige, aber echte Freunde und ein stabiles Leben.",
    ru: "🙂 {name}, у тебя немного, но настоящих друзей и стабильная жизнь.",
    ka: "🙂 {name}, ცოტა, მაგრამ ნამდვილი მეგობრები გყავს და სტაბილური ცხოვრება გაქვს."
  },
  4: {
    de: "😔 {name}, du fühlst dich oft einsam – kleine Schritte können helfen.",
    ru: "😔 {name}, ты часто чувствуешь себя одиноко — маленькие шаги могут помочь.",
    ka: "😔 {name}, ხშირად მარტოსულად გრძნობ თავს — პატარა ნაბიჯები დაგეხმარება."
  },
  5: {
    de: "💭 {name}, du fühlst dich verloren. Sprich mit jemandem, dem du vertraust. ❤️",
    ru: "💭 {name}, ты чувствуешь себя растерянным. Поговори с тем, кому доверяешь. ❤️",
    ka: "💭 {name}, თავს დაკარგულად გრძნობ — ესაუბრე ადამიანს, ვისაც ენდობი. ❤️"
  }
};

/* Punkte für Antworten a..d */
const scoreMap = { a: 4, b: 3, c: 2, d: 1 };

/* ====== Fragen: 52 Einträge, jeder mit [Frage, A, B, C, D] in drei Sprachen ====== */
const QUESTIONS = [
/* 1 */ { de:["Wie reagierst du, wenn ein Freund Hilfe braucht?","Ich helfe sofort","Ich helfe später","Ich gehe weg","Ich ignoriere"],
         ru:["Что ты делаешь, если другу нужна помощь?","Я сразу помогу","Помогу позже","Прохожу мимо","Игнорирую"],
         ka:["მეგობარს დახმარება სჭირდება. რას გააკეთებ?","მაშინვე დავეხმარები","შემდეგ დავეხმარები","გავივლი გვერდზე","ვაიგნორებ"] },
/* 2 */ { de:["Wie gehst du mit Stress um?","Ich bleibe ruhig","Ich rede mit Freunden","Ich werde nervös","Ich ziehe mich zurück"],
         ru:["Как ты справляешься со стрессом?","Остаюсь спокойным","Говорю с друзьями","Нервничаю","Замыкаюсь"],
         ka:["როგორ უმკლავდები სტრესს?","მშვიდად ვრჩები","მეგობრებთან ვსაუბრობ","ვნერვიულობ","ვშორდები"] },
/* 3 */ { de:["Wie oft triffst du Freunde?","Täglich","Mehrmals pro Woche","Selten","Fast nie"],
         ru:["Как часто ты встречаешься с друзьями?","Каждый день","Несколько раз в неделю","Редко","Почти никогда"],
         ka:["რამდენად ხშირად ხვდები მეგობრებს?","ყოველდღე","კვირაში რამდენჯერმე","იშვიათად","თითქმის არასოდეს"] },
/* 4 */ { de:["Wie fühlst du dich in Gesellschaft?","Sehr wohl","Wohl","Neutral","Unwohl"],
         ru:["Как ты себя чувствуешь в обществе?","Очень комфортно","Комфортно","Нейтрально","Не комфортно"],
         ka:["როგორ გრძნობ თავს საზოგადოებაში?","ძალიან კომფორტულად","კომფორტულად","ნეიტრალურად","არა კომფორტულად"] },
/* 5 */ { de:["Wie gehst du mit Kritik um?","Ich nehme sie positiv","Ich denke kurz nach","Ich ignoriere sie","Ich werde verletzt"],
         ru:["Как ты относишься к критике?","Принимаю позитивно","Думаю немного","Игнорирую","Обижаюсь"],
         ka:["როგორ პასუხობ კრიტიკას?","პოზიტიურად ვიღებ","ვიფიქრებ","ვაიგნორებ","ვწუხდები"] },
/* 6 */ { de:["Wie verbringst du deine Freizeit?","Mit Freunden","Mit Familie","Alleine Zuhause","Ich fühle mich gelangweilt"],
         ru:["Как ты проводишь свободное время?","С друзьями","С семьёй","Один дома","Мне скучно"],
         ka:["როგორ ატარებ თავისუფალ დროს?","მეგობრებთან","ოჯახთან","მარტო სახლში","მბეზრდება"] },
/* 7 */ { de:["Wie gehst du mit neuen Menschen um?","Ich spreche sie direkt an","Ich warte ab","Ich bin schüchtern","Ich meide sie"],
         ru:["Как ты ведёшь себя с новыми людьми?","Я сразу общаюсь","Жду","Я стеснительный","Я избегаю их"],
         ka:["როგორ ექცევი новым людям?","მაშინვე ვსაუბრობ","ველოდები","მორიდებული ვარ","ვერიდები"] },
/* 8 */ { de:["Wie wichtig ist dir soziale Anerkennung?","Sehr wichtig","Wichtig","Weniger wichtig","Nicht wichtig"],
         ru:["Насколько для тебя важна социальная оценка?","Очень важно","Важно","Менее важно","Не важно"],
         ka:["რამდენად მნიშვნელოვანია სოციალური აღიარება?","ძალიან მნიშვნელოვანია","მნიშვნელოვანია","ნაკლებად","არ არის მნიშვნელოვანი"] },
/* 9 */ { de:["Wie reagierst du auf Konflikte?","Ich löse sie offen","Ich warte ab","Ich ignoriere","Ich ziehe mich zurück"],
         ru:["Как реагируешь на конфликты?","Решаю открыто","Жду","Игнорирую","Отстраняюсь"],
         ka:["როგორ რეაგირებ კონფლიქტებზე?","ხსნი პირდაპირ","ველოდები","ვაიგნორებ","უკან ვიხევ"] },
/*10 */ { de:["Wie oft fühlst du dich glücklich?","Fast immer","Meistens","Selten","Fast nie"],
         ru:["Как часто ты чувствуешь себя счастливым?","Почти всегда","Чаще всего","Редко","Почти никогда"],
         ka:["რამდენად ხშირად ხარ ბედნიერი?","თითქმის ყოველთვის","ხშირად","იშვიათად","თითქმის არასოდეს"] },
/*11 */ { de:["Wie reagierst du auf Komplimente?","Ich freue mich ehrlich","Ich bedanke mich","Ich werde verlegen","Ich glaube es nicht"],
         ru:["Как реагируешь на комплименты?","Искренне радуюсь","Благодарю","Смущаюсь","Не верю"],
         ka:["როგორ რეაგირებ კომპლიმენტებზე?","გიხარია გულწრფელად","მადლობას ვამბობ","გრცხვენია","არ მჯერა"] },
/*12 */ { de:["Wie startest du deinen Tag?","Mit Lächeln","Mit Kaffee","Gestresst","Ohne Motivation"],
         ru:["Как начинаешь свой день?","С улыбкой","С кофе","В стрессе","Без мотивации"],
         ka:["როგორ იწყებ დღეს?","ღიმილით","ყავით","სტრესით","მოტივაციის გარეშე"] },
/*13 */ { de:["Wie wichtig ist dir Familie?","Sehr wichtig","Wichtig","Etwas wichtig","Nicht wichtig"],
         ru:["Насколько тебе важна семья?","Очень важно","Важно","Немного важно","Не важно"],
         ka:["რამდენად მნიშვნელოვანია ოჯახი შენთვის?","ძალიან მნიშვნელოვანია","მნიშვნელოვანია","ნაკლებად","არ არის მნიშვნელოვანი"] },
/*14 */ { de:["Wie reagierst du, wenn du einen Fehler machst?","Ich lerne daraus","Ich lache darüber","Ich schäme mich","Ich gebe auf"],
         ru:["Что делаешь, если ошибаешься?","Учусь на этом","Смеюсь","Стыжусь","Сдаюсь"],
         ka:["რას აკეთებ როცა შეცდები?","ვსწავლობ","იცინი","მრცხვენია","ვნებდები"] },
/*15 */ { de:["Wie oft unternimmst du etwas Neues?","Sehr oft","Manchmal","Selten","Nie"],
         ru:["Как часто пробуешь что-то новое?","Очень часто","Иногда","Редко","Никогда"],
         ka:["რამდენად ხშირად ცდი ახალ რაღაცებს?","ძალიან ხშირად","ხანდახან","იშვიათად","არასდროს"] },
/*16 */ { de:["Wie wichtig ist dir Erfolg?","Sehr wichtig","Wichtig","Etwas wichtig","Nicht wichtig"],
         ru:["Насколько тебе важен успех?","Очень","Важно","Немного","Не важно"],
         ka:["რამდენად მნიშვნელოვანია წარმატება?","ძალიან","მნიშვნელოვანია","ნაწილობრივ","არ არის მნიშვნელოვანი"] },
/*17 */ { de:["Wie gehst du mit Rückschlägen um?","Ich versuche es erneut","Ich bleibe ruhig","Ich werde traurig","Ich gebe auf"],
         ru:["Как справляешься с неудачами?","Пробую снова","Спокоен","Грущу","Сдаюсь"],
         ka:["როგორ უმკლავდები წარუმატებლობას?","კვლავ ვცდი","მშვიდად","ვწუხვარ","ვნებდები"] },
/*18 */ { de:["Wie oft lachst du am Tag?","Sehr oft","Oft","Selten","Kaum"],
         ru:["Как часто смеёшься за день?","Очень часто","Часто","Редко","Почти никогда"],
         ka:["რამდენად ხშირად იცინი დღეში?","ძალიან ხშირად","ხშირად","იშვიათად","თითქმის არასოდეს"] },
/*19 */ { de:["Wie reagierst du, wenn jemand traurig ist?","Ich tröste","Ich höre zu","Ich gehe weg","Ich ignoriere"],
         ru:["Что делаешь, если кто-то грустит?","Утешаю","Слушаю","Ухожу","Игнорирую"],
         ka:["რას გააკეთებ როცა ვინმე სევდიანია?","ვამშვიდებ","ვისმენ","გავდივარ","ვაიგნორებ"] },
/*20 */ { de:["Wie wichtig ist dir Ehrlichkeit?","Sehr wichtig","Wichtig","Kommt drauf an","Nicht wichtig"],
         ru:["Насколько важна для тебя честность?","Очень важно","Важно","Зависит","Не важно"],
         ka:["რამდენად მნიშვნელოვანია სიმართლე შენთვის?","ძალიან მნიშვნელოვანია","მნიშვნელოვანია","დამოკიდებულია","არ არის"] },

/* 21 */ { de:["Wie gehst du mit Veränderungen um?","Ich nehme sie an","Ich beobachte erst","Ich bin unsicher","Ich lehne sie ab"],
         ru:["Как относишься к переменам?","Принимаю их","Сначала наблюдаю","Неуверен","Отказываюсь"],
         ka:["როგორ ექცევი ცვლილებებს?","მიღება","ჯერ ვაკვირდები","არ მაქვს თავდაჯერება","უარყოფა"] },
/* 22 */ { de:["Wie reagierst du auf Stresssituationen?","Ich atme tief durch","Ich handle sofort","Ich werde nervös","Ich verliere Kontrolle"],
         ru:["Как реагируешь на стрессовые ситуации?","Глубоко дышу","Действую сразу","Нервничаю","Теряю контроль"],
         ka:["როგორ რეაგირებ სტრესულ სიტუაციებზე?","ღრმად ვსუნთქავ","ვმოქმედებ","ვნერვიულობ","ვკარგავ კონტროლს"] },
/* 23 */ { de:["Wie oft hilfst du anderen?","Sehr oft","Manchmal","Selten","Nie"],
         ru:["Как часто помогаешь другим?","Очень часто","Иногда","Редко","Никогда"],
         ka:["რამდენად ხშირად ეხმარები სხვებს?","ძალიან ხშირად","ხანდახან","იშვიათად","არასდროს"] },
/* 24 */ { de:["Wie gehst du mit Problemen um?","Ich löse sie","Ich suche Rat","Ich warte ab","Ich ignoriere sie"],
         ru:["Как решаешь проблемы?","Решаю","Ищу совета","Жду","Игнорирую"],
         ka:["როგორ უმკლავდები პრობლემებს?","ვეგუები","რჩევას ვეძებ","ველოდები","ვაიგნორებ"] },
/* 25 */ { de:["Wie reagierst du, wenn du kritisiert wirst?","Ich höre zu","Ich diskutiere ruhig","Ich werde defensiv","Ich ärgere mich"],
         ru:["Как реагируешь на критику?","Слушаю","Спокойно обсуждаю","Защищаюсь","Злюсь"],
         ka:["როგორ პასუხობ კრიტიკას?","ვისმენ","მშვიდად ვსაუბრობ","ვიცავ თავს","ვბრაზდები"] },
/* 26 */ { de:["Wie wichtig ist dir Freundschaft?","Sehr wichtig","Wichtig","Etwas wichtig","Nicht wichtig"],
         ru:["Насколько тебе важна дружба?","Очень важно","Важно","Немного важно","Не важно"],
         ka:["რამდენად მნიშვნელოვანია მეგობრობა?","ძალიან","მნიშვნელოვანია","ნაკლებად","არ არის"] },
/* 27 */ { de:["Wie reagierst du bei Streit?","Ich bleibe ruhig","Ich erkläre mich","Ich schreie","Ich gehe weg"],
         ru:["Как ведёшь себя при ссоре?","Спокоен","Объясняюсь","Кричу","Ухожу"],
         ka:["როგორ იქცევი ჩხუბისას?","მშვიდად","ვხსნი","ვყვირი","ვშორდები"] },
/* 28 */ { de:["Wie gehst du mit Einsamkeit um?","Ich suche Kontakt","Ich lese oder höre Musik","Ich bleibe traurig","Ich ignoriere es"],
         ru:["Как справляешься с одиночеством?","Ищу общения","Читаю или слушаю музыку","Грущу","Игнорирую"],
         ka:["როგორ უმკლავდები მარტოობას?","საკონტაქტოდ ვეძებ","ვკითხულობ ან მუსიკას ვუსმენ","ვწუხვარ","ვაიგნორებ"] },
/* 29 */ { de:["Wie oft bist du zufrieden mit dir selbst?","Sehr oft","Oft","Selten","Nie"],
         ru:["Как часто доволен собой?","Очень часто","Часто","Редко","Никогда"],
         ka:["რამდენად ხშირად კმაყოფილი ხარ საკუთარი თავით?","ძალიან ხშირად","ხშირად","იშვიათად","არასდროს"] },
/* 30 */ { de:["Wie reagierst du auf Niederlagen?","Ich lerne daraus","Ich bleibe ruhig","Ich bin enttäuscht","Ich gebe auf"],
         ru:["Как реагируешь на поражения?","Учусь на них","Спокоен","Разочарован","Сдаюсь"],
         ka:["როგორ პასუხობ მარცხს?","ვსწავლობ","მშვიდად","იმედგაცრუებული","ვნებდები"] },

/* 31 */ { de:["Wie oft denkst du positiv?","Immer","Oft","Selten","Kaum"],
         ru:["Как часто думаешь позитивно?","Всегда","Часто","Редко","Почти никогда"],
         ka:["რამდენად ხშირად ფიქრობ პოზიტიურად?","ყოველდღე","ხშირად","იშვიათად","შედარებით არა"] },
/* 32 */ { de:["Wie gehst du mit Verantwortung um?","Ich übernehme sie gern","Ich teile sie","Ich bin vorsichtig","Ich vermeide sie"],
         ru:["Как относишься к ответственности?","Беру с радостью","Делю","Осторожен","Избегаю"],
         ka:["როგორ განახორციელებ პასუხისმგებლობას?","მოხარულად ვიღებ","ვიზიარებ","ფრთხილად ვიქცევი","ვერიდები"] },
/* 33 */ { de:["Wie reagierst du bei Erfolg?","Ich feiere","Ich teile es","Ich bleibe bescheiden","Ich ignoriere es"],
         ru:["Как реагируешь на успех?","Праздную","Делю с другими","Остаюсь скромным","Игнорирую"],
         ka:["როგორ რეაგირებ წარმატებაზე?","ვიხარებ","ვაზიარებ","ვრჩები თავის თავმდაბლობაში","ვაიგნორებ"] },
/* 34 */ { de:["Wie wichtig ist dir Gesundheit?","Sehr wichtig","Wichtig","Etwas wichtig","Nicht wichtig"],
         ru:["Насколько для тебя важна здоровье?","Очень важно","Важно","Немного важно","Не важно"],
         ka:["რამდენად მნიშვნელოვანია ჯანმრთელობა?","ძალიან მნიშვნელოვანია","მნიშვნელოვანია","ნაკლებად","არ არის"] },
/* 35 */ { de:["Wie verbringst du Feierabende?","Mit Freunden","Mit Partner/Partnerin","Alleine","Am Arbeiten"],
         ru:["Как проводишь вечера?","С друзьями","С партнёром","Один","Работаю"],
         ka:["როგორ ატარებ საღამოებს?","მეგობრებთან","პარტნიორთან","მარტო","ვმუშაობ"] },
/* 36 */ { de:["Wie planst du deine Zukunft?","Konsequent","Locker","Spontan","Gar nicht"],
         ru:["Как планируешь будущее?","Последовательно","Свободно","Спонтанно","Не планирую"],
         ka:["როგორ გეგმავ მომავალს?","მომზადებულად","ხელმისაწვდომად","სპონტანურად","არ ვგეგმავ"] },
/* 37 */ { de:["Wie wichtig ist dir Arbeit?","Sehr wichtig","Wichtig","Mittel","Nicht wichtig"],
         ru:["Насколько важна для тебя работа?","Очень важно","Важно","Средне","Не важно"],
         ka:["რამდენად მნიშვნელოვანია სამსახური შენთვის?","ძალიან","მნიშვნელოვანია","საშუალოდ","არ არის"] },
/* 38 */ { de:["Wie reagierst du auf kleine Geschenke?","Ich freue mich","Ich nehme freundlich","Ich bin überrascht","Ich ignoriere"],
         ru:["Как реагируешь на маленькие подарки?","Радуюсь","Благодарю","Удивлён","Не реагирую"],
         ka:["პატარა საჩუქრებზე როგორ რეაგირებ?","უხარობს","მადლობას ვეუბნები","გაოცებული ვარ","ვაიგნორებ"] },
/* 39 */ { de:["Wie viel Zeit verbringst du online?","Sehr viel","Einige Stunden","Wenig","Kaum"],
         ru:["Сколько времени проводишь в сети?","Очень много","Несколько часов","Мало","Почти нет"],
         ka:["რამდენ დროს ატარებ ინტერნეტში?","ძალიან ბევრი","რამდენიმე საათი","ნაკლები","არასდროს"] },
/* 40 */ { de:["Wie wichtig ist dir Ruhe?","Sehr wichtig","Wichtig","Nicht so wichtig","Nicht wichtig"],
         ru:["Насколько важен для тебя покой?","Очень важен","Важно","Не очень","Не важно"],
         ka:["რამდენად მნიშვნელოვანია სიმშვიდე?","ძალიან მნიშვნელოვანია","მნიშვნელოვანია","არა ძალიან","არ არის"] },

/* 41 */ { de:["Wie gehst du mit Stress bei der Arbeit um?","Ich organisiere mich","Ich spreche es an","Ich ignoriere","Ich kündige (im Kopf)"],
         ru:["Как справляешься со стрессом на работе?","Организуюсь","Говорю об этом","Игнорирую","Хочу уйти"],
         ka:["როგორ უმკლავდები სტრესს სამსახურში?","ვგეგმავ","ვამხილებ პრობლემას","ვაიგნორებ","ვიფიქრებ წამოსვლაზე"] },
/* 42 */ { de:["Wie oft machst du Sport?","Täglich","Mehrmals pro Woche","Selten","Nie"],
         ru:["Как часто занимаешься спортом?","Ежедневно","Несколько раз в неделю","Редко","Никогда"],
         ka:["რამდენჯერ აკეთებ სპორტს?","ყოველ დღე","კვირაში რამდენჯერმე","იშვიათად","არასდროს"] },
/* 43 */ { de:["Wie wichtig sind dir Hobbys?","Sehr wichtig","Wichtig","Etwas wichtig","Nicht wichtig"],
         ru:["Насколько для тебя важны хобби?","Очень важны","Важны","Частично важны","Не важны"],
         ka:["ჰობიები რამდენად მნიშვნელოვანია?","ძალიან მნიშვნელოვანია","მნიშვნელოვანია","ნაკლებად","არ არის"] },
/* 44 */ { de:["Wie reagierst du auf plötzliche Veränderungen?","Ich passe mich an","Ich brauche Zeit","Ich werde ängstlich","Ich weigere mich"],
         ru:["Как реагируешь на внезапные перемены?","Адаптируюсь","Мне нужно время","Становлюсь тревожным","Отказываюсь"],
         ka:["რატომ რეაგირებ უეცარი ცვლილებებისთვის?","მოვერგები","მჭირდება დრო","შვამშფოთდები","უარყოფ"] },
/* 45 */ { de:["Wie sehr vertraust du anderen?","Sehr viel","Ziemlich","Wenig","Kaum"],
         ru:["Насколько ты доверяешь другим?","Очень","Довольно","Мало","Почти нет"],
         ka:["რამდენად ენდობი სხვებს?","ძალიან","კარგია","ნაკლებად","ძალიან არა"] },
/* 46 */ { de:["Wie oft denkst du über die Zukunft nach?","Täglich","Oft","Selten","Nie"],
         ru:["Как часто думаешь о будущем?","Ежедневно","Часто","Редко","Никогда"],
         ka:["რამდენად ხშირად ფიქრობ მომავალზე?","ყოველდღე","ხშირად","იშვიათად","არასოდეს"] },
/* 47 */ { de:["Wie wichtig ist dir Bildung?","Sehr wichtig","Wichtig","Etwas wichtig","Nicht wichtig"],
         ru:["Насколько для тебя важно образование?","Очень важно","Важно","Частично важно","Не важно"],
         ka:["რომელ დონეზე მნიშვნელოვანია განათლება?","ძალიან მნიშვნელოვანია","მნიშვნელოვანია","ნაკლებად","არ არის"] },
/* 48 */ { de:["Wie gehst du mit Kritik im Job um?","Ich nehme sie konstruktiv","Ich diskutiere","Ich ignoriere","Ich werde persönlich"],
         ru:["Как реагируешь на критику на работе?","Принимаю конструктивно","Обсуждаю","Игнорирую","Принимаю лично"],
         ka:["როგორ პასუხობ კრიტიკას სამსახურში?","კონსტრუქციულად ვიღებ","გავმსჯელობ","ვაიგნორებ","პიროვნულად ვიღებ"] },
/* 49 */ { de:["Wie sehr schätzt du Offenheit?","Sehr","Ziemlich","Wenig","Gar nicht"],
         ru:["Насколько ценишь открытость?","Очень","Довольно","Мало","Вообще нет"],
         ka:["რამდენად აფასებ გამჭვირვალობას?","ძალიან","კარგად","ნაკლებად","არც"] },
/* 50 */ { de:["Wie reagierst du, wenn Pläne sich ändern?","Ich improvisiere","Ich ärgere mich kurz","Ich passe mich an","Ich bin gestresst"],
         ru:["Как реагируешь, если планы меняются?","Импровизирую","Немного злюсь","Адаптируюсь","Стрессую"],
         ka:["როგორ რეაგირებ როცა გეგმები იცვლება?","იმპროვიზაცია","ცოტა ვბრაზდები","მოვერგები","სტრესში ვრჩები"] },
/* 51 */ { de:["Was ist dir im Leben am wichtigsten?","Familie","Gesundheit","Freunde","Erfolg"],
         ru:["Что в жизни для тебя важнее всего?","Семья","Здоровье","Друзья","Успех"],
         ka:["რა არის შენთვის ცხოვრების ყველაზე მნიშვნელოვანია?","ოჯახი","ჯანმრთელობა","მეგობრები","წარმატება"] },
/* 52 */ { de:["Wie oft reflektierst du über dein Verhalten?","Täglich","Regelmäßig","Selten","Nie"],
         ru:["Как часто рефлектируешь о своем поведении?","Каждый день","Регулярно","Редко","Никогда"],
         ka:["რამდენად ხშირად აფასებ შენს მოქმედებებს?","ყოველდღე","რეგულარულად","იშვიათად","არასდროს"] }
]; // end QUESTIONS

/* ====== Funktionen ====== */

function setLanguage(l){
  lang = l;
  // show name entry block
  document.getElementById('language-selection').classList.add('hide');
  document.getElementById('name-entry').classList.remove('hide');
  // set localized labels
  document.getElementById('ask-name').innerText = UI.askName[lang];
  document.getElementById('username').placeholder = UI.placeholder[lang];
  document.getElementById('start-btn').innerText = UI.start[lang];
  document.getElementById('help-text').innerText = UI.help[lang];
  // clear any existing name
  document.getElementById('username').value = '';
}

function startGame(){
  username = document.getElementById('username').value.trim();
  if(!username) {
    // default localized fallback
    username = (lang==='de') ? "Spieler" : (lang==='ru') ? "Игрок" : "მოთამაშე";
  }
  currentQ = 0;
  points = 0;
  // hide name entry, show quiz
  document.getElementById('name-entry').classList.add('hide');
  document.getElementById('result-card').classList.add('hide');
  document.getElementById('question-card').classList.remove('hide');
  showQuestion();
}

function showQuestion(){
  if(currentQ >= QUESTIONS.length){ showResult(); return; }
  const qArr = QUESTIONS[currentQ][lang];
  const qText = qArr[0];
  const ans = qArr.slice(1);
  document.getElementById('progress').innerText = `${currentQ+1} / ${QUESTIONS.length}`;
  document.getElementById('question-text').innerText = qText;
  const answersDiv = document.getElementById('answers');
  answersDiv.innerHTML = '';
  for(let i=0;i<ans.length;i++){
    const letter = String.fromCharCode(97+i); // a,b,c,d
    const btn = document.createElement('button');
    btn.className = 'btn-answer';
    btn.innerText = `${letter.toUpperCase()}) ${ans[i]}`;
    btn.onclick = (function(ltr){
      return function(){
        points += scoreMap[ltr];
        currentQ++;
        showQuestion();
      };
    })(letter);
    answersDiv.appendChild(btn);
  }
}

function showResult(){
  document.getElementById('question-card').classList.add('hide');
  document.getElementById('result-card').classList.remove('hide');
  const maxPoints = QUESTIONS.length * 4;
  const ratio = points / maxPoints;
  let idx;
  if(ratio >= 0.9) idx = 1;
  else if(ratio >= 0.75) idx = 2;
  else if(ratio >= 0.6) idx = 3;
  else if(ratio >= 0.45) idx = 4;
  else idx = 5;
  // if RESULTS doesn't have index 5, map to 5->5, else fallback to 5
  const resText = (RESULTS[idx] && RESULTS[idx][lang]) ? RESULTS[idx][lang] : RESULTS[5][lang];
  const out = resText.replace('{name}', username);
  document.getElementById('result-text').innerText = out;
  document.getElementById('points-display').innerText = `${points} / ${maxPoints}`;
  document.getElementById('again-btn').innerText = UI.again[lang];
}

function restartGame(){
  // reset and show language selection again
  lang = 'de'; username = ''; currentQ = 0; points = 0;
  document.getElementById('result-card').classList.add('hide');
  document.getElementById('question-card').classList.add('hide');
  document.getElementById('name-entry').classList.add('hide');
  document.getElementById('language-selection').classList.remove('hide');
}

/* Safety: ensure 'again' button also resets to language selection if pressed */
document.getElementById('again-btn').addEventListener('click', function(){
  // restartGame is already called via onclick; ensure UI consistent
  restartGame();
});
</script>
</body>
</html>
